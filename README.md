# AI Browser Agent (agent_surf) ğŸš€

é€™æ˜¯ä¸€å€‹åŸºæ–¼ Puppeteer èˆ‡ OpenAI çš„è‡ªå‹•åŒ–ç€è¦½å™¨ Agentï¼Œæ—¨åœ¨æ¨¡æ“¬äººé¡è¡Œç‚ºé€²è¡Œç¶²é åˆ†æèˆ‡å°è¦½ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **NixOS Native**: å®Œç¾æ•´åˆ Nix Flakesï¼Œè‡ªå‹•è™•ç† Chromium ä¾è³´èˆ‡è·¯å¾‘ã€‚
- **Stealth Mode**: å…§å»º `puppeteer-extra-plugin-stealth` èˆ‡è¡Œç‚ºéš¨æ©ŸåŒ–ï¼Œé™ä½è¢«åµæ¸¬é¢¨éšªã€‚
- **AI Brain**: ä½¿ç”¨ OpenAI GPT-4o åˆ†æç¶²é å…§å®¹ï¼Œç†è§£å‹•æ…‹é é¢çµæ§‹ã€‚
- **Modern Stack**: ä½¿ç”¨ Bun åŸ·è¡Œç’°å¢ƒï¼Œæ¥µé€Ÿé–‹ç™¼èˆ‡æ¸¬è©¦ã€‚

## ğŸ›  å¿«é€Ÿé–‹å§‹

### 1. ç’°å¢ƒæº–å‚™
ç¢ºä¿æ‚¨çš„ç³»çµ±å·²å®‰è£ Nix ä¸”å•Ÿç”¨äº† Flakesã€‚

```bash
nix develop
```

### 2. è¨­å®šå¯†é‘°
ç·¨è¼¯ `.env` å¡«å…¥æ‚¨çš„ `OPENAI_API_KEY`ã€‚

### 3. åˆå§‹åŒ–å°ˆæ¡ˆ
ä½¿ç”¨ `just` æŒ‡ä»¤å®‰è£æ‰€æœ‰ä¾è³´ï¼š

```bash
just init
```

### 4. é‹è¡Œ Agent
æ‚¨å¯ä»¥ç›´æ¥åˆ†æä»»ä½•ç¶²é ï¼š

```bash
just run https://news.ycombinator.com "æœ‰å“ªäº›é—œæ–¼ AI çš„æ–°èï¼Ÿ"
```

## ğŸ“œ å¸¸ç”¨æŒ‡ä»¤ (Justfile)

| æŒ‡ä»¤ | èªªæ˜ |
| :--- | :--- |
| `just init` | å®‰è£å°ˆæ¡ˆä¾è³´ (`bun install`) |
| `just run <url> [query]` | å•Ÿå‹• Agent åˆ†ææŒ‡å®šç¶²é  (ç„¡ç•«é¢ï¼Œç¨ç«‹ Session) |
| `just gui <url> [query]` | å•Ÿå‹• Agent ä¸¦é¡¯ç¤ºç€è¦½å™¨ç•«é¢ (ç¨ç«‹ Session) |
| `just login [url]` | æ‰‹å‹•ç™»å…¥æ¨¡å¼ (é–‹å•Ÿç€è¦½å™¨ä¾›æ‚¨æ“ä½œï¼ŒæŒ‰ Enter å„²å­˜) |
| `just auth-run <goal>` | ä½¿ç”¨å„²å­˜çš„ Session åŸ·è¡Œä»»å‹™ (ç„¡ç•«é¢) |
| `just auth-gui <goal>` | ä½¿ç”¨å„²å­˜çš„ Session åŸ·è¡Œä»»å‹™ (æœ‰ç•«é¢) |
| `just lint` | åŸ·è¡Œç¨‹å¼ç¢¼æª¢æŸ¥ (Biome) |
| `just fmt` | è‡ªå‹•æ ¼å¼åŒ–ç¨‹å¼ç¢¼ |
| `just test` | åŸ·è¡Œå–®å…ƒæ¸¬è©¦ |
| `just dev` | ä»¥ç†±é‡è¼‰æ¨¡å¼å•Ÿå‹• `index.ts` |

## ğŸ“ å°ˆæ¡ˆçµæ§‹

- `src/agent.ts`: æ ¸å¿ƒ `BrowserAgent` é¡åˆ¥ï¼Œè™•ç†ç€è¦½å™¨ç”Ÿå‘½é€±æœŸèˆ‡ AI é€šè¨Šã€‚
- `src/index.ts`: CLI é€²å…¥é»ã€‚
- `flake.nix`: NixOS ç’°å¢ƒå®šç¾©èˆ‡ Chromium è‡ªå‹•è·¯å¾‘è¨­å®šã€‚
- `Justfile`: ä»»å‹™è‡ªå‹•åŒ–è…³æœ¬ã€‚
- `AGENTS.md`: æä¾›çµ¦ AI Coding Agents çš„é–‹ç™¼æŒ‡å—ã€‚

## ğŸ›¡ï¸ å®‰å…¨è¦ç¯„
- ç¦æ­¢åœ¨ Commit ä¸­åŒ…å« `.env` æˆ–ä»»ä½• credentialsã€‚
- æ‰€æœ‰çš„ç€è¦½å™¨æ“ä½œçš†å¸¶æœ‰ `--no-sandbox` ä»¥ç¬¦åˆ NixOS éš”é›¢ç’°å¢ƒã€‚
